% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_traj1.R
\name{extract_traj1}
\alias{extract_traj1}
\title{Extract single trajectory from a traj object}
\usage{
extract_traj1(x, id = NULL)
}
\arguments{
\item{x}{An object of class \code{"traj"} (or subclass)}

\item{id}{Character scalar. ID of the subject to extract.
If \code{NULL} (default), returns an empty \code{"traj"} object.}
}
\value{
A new object with class \code{"traj1"} (or \code{"traj_0"} if empty),
containing only one subject (or zero). Attributes \code{data_info} and \code{status} are updated.
}
\description{
Extract single trajectory from a traj object
}
\examples{
\dontrun{
# ── Example 1: Extract one specific subject ──────────────────────────────────
keys <- c(id_col = "ID", time_col = "time", y_col = "egfr")
traj_all <- traj_create(example_data, key_vars = keys)

# Pick one ID from the full object
one_id <- unique(traj_all$id)[1]   # e.g. "1_10"

traj_single <- extract_traj1(traj_all, id = one_id)

# Output: single-subject traj1 object
class(traj_single)                 # "traj1" "traj" ...
nrow(traj_single)                  # number of rows for that ID only
unique(traj_single$id)             # only the requested ID


# ── Example 2: Extract ALL subjects into a named list of traj1 objects ───────
keys <- c(id_col = "ID", time_col = "time", y_col = "egfr")
traj_all <- traj_create(example_data, key_vars = keys)

ids <- traj_all |> distinct(id) |> pull(id)

# Create named list: each element is a single-subject traj1 object
traj1_list <- setNames(
  lapply(ids, function(one_id) {
    extract_traj1(traj_all, id = one_id)
  }),
  ids
)

# Output structure
length(traj1_list)                  # number of subjects / list elements
names(traj1_list)                   # the IDs (e.g. "1_10", "1_11", ...)
class(traj1_list[[1]])              # "traj1" "traj" ...
nrow(traj1_list[[1]])               # Number of rows for that specific ID only

# Quick access example
traj1_list[["1_10"]]                # traj1 object for ID "1_10"
}
}
