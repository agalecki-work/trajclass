# trajclass

Classification of Longitudinal Trajectories / Time Series

## Installation

```
devtools::install_github("agalecki-work/ntrajclass")
```

## Scripts 

There are four scripts distributed with the package.

* `step0.R`
* `step1.R`
* `step2.R`
* `step3.R`


Scripts can be located as follows:

```
  (scriptsDir <- system.file("scripts", package = "trajclass"))
  list.files(scriptsDir, pattern = "[[:alnum:]][.][R]$")

```

To test these scripts,  proceed as follows: 

* Initial step

 Use `setwd()` command to create working directory. It is recommended to remove left-over files from the previous runs. After every step executed below we anticipate that the last line generated by the script in R console should read: "... Use ls() command to find out what objects were created by this script". Remember to to run every script separately usng R fresh sessions. After every script check generated log file for errors, if any 

* __Step 0__: check package installation using `step0.R`


```
# Run in _fresh_ R session. 
trajclass::runScript_with_log("step0.R")
```

`step0.R` script does not generate, any external files.


* __Step 1__: Creates objects with relevant data for the analyses using `step1.R`

```
# Run in _fresh_ R session. 
trajclass::runScript_with_log("step1.R")
```

`step1.R` script generates an external file: `step1_ objects.rda` required by `step2.R`

* __Step 2__: Detailed analysis for selected subject using `step2.R`

```
# Run in _fresh_ R session. 
trajclass::runScript_with_log("step2.R")
```


`step2.R` script does not generate, any external files.


* __Step 3__: Analysis of all subjects using `step3.R`

```
# Run in _fresh_ R session. 
trajclass::runScript_with_log("step3.R")
```

`step3.R` script generates, an external file `summary_tbls.rda` with multiple summary tables.











```
# Run in _fresh_ R session. 
trajclass::runScript_with_log("step1.R")
```
Review `step0.log` file for errors, if any


```
# Run in _fresh_ R session. 
trajclass::runScript_with_log("step1.R")
```



* Execute "step" scripts

Execute scripts one by one in a sequence starting with `step0.R`. Execute each script in a fresh R session.
For every script log file will be generated in working directory


```
trajclass::runScript_with_log("step0.R") # step0.log file is created in working directory

```   

Important: Locate these scripts and *copy* them to and execute in your working folder.



